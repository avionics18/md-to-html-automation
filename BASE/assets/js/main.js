(()=>{let e=e=>{document.body.setAttribute("data-bs-theme",e?"dark":"light")};class t{constructor(e,t){this.container=document.querySelector(e),this.toc=document.querySelector(t)}generate(){if(!this.container||!this.toc)return void console.warn("TableOfContents: Container or TOC element not found.");let e=this.container.querySelectorAll("h1, h2, h3, h4, h5, h6"),t=document.createElement("ul");this.toc.appendChild(t);let n=1,o=t,r=[t];e.forEach(e=>{let t=parseInt(e.tagName.substring(1));e.id||(e.id=e.textContent.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]/g,""));let d=document.createElement("li"),c=document.createElement("a");if(c.textContent=e.textContent,c.href=`#${e.id}`,d.appendChild(c),t>n){let e=document.createElement("ul");r[r.length-1].lastElementChild.appendChild(e),r.push(e),o=e}else if(t<n){for(let e=t;e<n;e++)r.pop();o=r[r.length-1]}o.appendChild(d),n=t})}}document.addEventListener("DOMContentLoaded",()=>{(t=>{if(!t)return console.error("Theme toggler ID must be provided to initThemeModule(togglerId)");let n=document.getElementById(t);if(!n)return console.error(`Element with ID "${t}" not found`);let o=window.matchMedia("(prefers-color-scheme: dark)").matches;n.checked=o,document.body.setAttribute("data-bs-theme",o?"dark":"light"),n.addEventListener("change",t=>{e(t.target.checked)}),(t=>{document.addEventListener("keydown",n=>{n.shiftKey&&"D"===n.key&&(t.checked=!t.checked,e(t.checked))})})(n)})("darkModeToggler"),new t("#content","#toc").generate()})})();